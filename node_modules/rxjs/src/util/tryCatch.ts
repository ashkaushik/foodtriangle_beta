import { errorObject } from './errorObject';

let tryCatchTarget: Function;

<<<<<<< HEAD
function tryCatcher(this: any): any {
=======
function tryCatcher(): any {
>>>>>>> origin/foodtriangle_node
  try {
    return tryCatchTarget.apply(this, arguments);
  } catch (e) {
    errorObject.e = e;
    return errorObject;
  }
}

export function tryCatch<T extends Function>(fn: T): T {
  tryCatchTarget = fn;
  return <any>tryCatcher;
};
